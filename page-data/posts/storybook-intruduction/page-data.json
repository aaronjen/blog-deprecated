{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/storybook-intruduction/","webpackCompilationHash":"5410c8e79bcba2e56779","result":{"data":{"markdownRemark":{"id":"ec1fb354-d5a7-54ea-aa37-79f9eede1599","html":"<p>近期因為公司擴張網站系統服務，\b從原本的主系統延伸出許多子系統，而這些子系統需要樣式、操作流程有個統一的規範與共用同樣的元件庫，希望能盡量減少許多不必要的複製貼上與管理負擔。所以在花了一點時間研究之後，找到了 <a href=\"https://storybook.js.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Storybook</a> 這樣的 Package\b\b。又經過了一段時間的嘗試(踩雷)之後，覺得是可以真正用在公司 Project 上的，所以就想來寫一下當初建立環境與嘗試的過程。</p>\n<h2 id=\"storybook-簡介\"><a href=\"#storybook-%E7%B0%A1%E4%BB%8B\" aria-label=\"storybook 簡介 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Storybook 簡介</h2>\n<p><a href=\"https://storybook.js.org/docs/basics/introduction/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Storyboook 官網</a> intruduction</p>\n<blockquote>\n<p>Storybook is a user interface development environment and playground for UI components. The tool enables developers to create components independently and showcase components interactively in an isolated development environment.</p>\n</blockquote>\n<p>簡單的來說，Storybook 就是一個 UI components 的開發環境與展示平台，讓你在開發前端元件的同時，將使用範例與文檔一併完成。</p>\n<h2 id=\"建立-storybook-專案\"><a href=\"#%E5%BB%BA%E7%AB%8B-storybook-%E5%B0%88%E6%A1%88\" aria-label=\"建立 storybook 專案 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>建立 Storybook 專案</h2>\n<p>範例 Source code: <a href=\"https://github.com/bugarma/react-storybook-example\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/bugarma/react-storybook-example</a></p>\n<p>要建立一個 Storybook 的專案有許多種方式：</p>\n<ol>\n<li>直接透過 Storybook 的 cli 建立</li>\n<li>\b先用 create-react-app(CRA) 初始化專案，再用 Storybook 的 cli 加入 Storybook</li>\n</ol>\n<p>我是用第二種方式，因為習慣用 CRA 的架構，公司專案也有需要用到 CRA 的功能。</p>\n<p>話不多說，首先建立專案：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx create-react-app storybook-example\n<span class=\"token builtin class-name\">cd</span> storybook-example\n\nnpx -p @storybook/cli sb init</code></pre></div>\n<p>如果仔細看一下 terminal 上面的 log，會發現 Storybook 自動偵測到了專案是由 CRA 建立的，進而建立符合 CRA 環境的內容。</p>\n<p>所以就不用再多做額外的 config 就可以使用 Storybook 了。</p>\n<p>接下來：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn storybook</code></pre></div>\n<p>應該就可以看到 Storybook 的網頁自動開啟。</p>\n<p>我們可以對 <code class=\"language-text\">src/stories/1-Button.stories.js</code> 做一點修改看看效果</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> action <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@storybook/addon-actions'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Button <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@storybook/react/demo'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 修改 group title</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token string\">'ButtonExample'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 修改子項目 title</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">textHelloButton</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">action</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clicked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello Button</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 修改子項目 title</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">emojiIsCool</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">action</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clicked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>img<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>so cool<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      😀 😎 👍 💯\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>可以看到旁邊選項的 title 有改變，如下圖:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b66e1ff527d896fcf87ba3dcf7ad4352/9fa35/storybook-example1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.79271708683474%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQ4y62T3W/SUBTA+6ivQowPizWRGZ2wTYYuTNqyxbhBARVYfPBtf5sP+qyJD84s80HjLB0wvyPTZAqMlna9lPFxe3u8bbe9bIbOeNJfbnNy7i/n9KQMe25sLD47Y84uJGFhUYTFdBaSd5Ygzs3DVPQWRKZjcH0yCpGpGFwLT8P41bDLlYlJmIncgGj0JszR2lh8rh+4cP4Sc/d+ll199lJ7tboOa6/fWG83ZLLxvkSkkkw2K1WPsnfK5QopbZaPqNJcpbplffj0Gd5JksEJwjjzaGWFNTVDA9t2HgIAtsNwMLAP30fg3AGMMcpkciGmKPDs2rqkS1vbUP2yQz5+3YEBMgBbFlgOhHjn33GFCHXQUiodYnLhCfbxC1l/IjXgqdQgz+U6YL3t1NCObT+4QtPsolRaDDEP83lW/VHTsboLvWad2HttsIlb4xhhVBwTPigss00N6RZNdjEQChBH5K+7I2HHND1hvlBkdxVNxzTd7Q3Jfh9D3SRgDj0p8Sk0DITETPZAqFIhvd/tY7I/sLwOfcaxkU8S2gfCf1rKKOGI7k4WNhVNG9K06X1DumQ6tP84XIrhCgvFZVbV0Z6TdJrDBE4b7hi9Xr+TFjMhJpu7d/Fb7adCu4RfjRb+3WxZLUW1FJWi+EBVsdpuw/fatkb/lMtMMBg8IyTneY7nRY7jUw4JjjsFfOp2ghMTCU4IBAJnmf8dfwCN4tLzyhYzKgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/b66e1ff527d896fcf87ba3dcf7ad4352/01472/storybook-example1.webp 240w,\n/static/b66e1ff527d896fcf87ba3dcf7ad4352/222bd/storybook-example1.webp 480w,\n/static/b66e1ff527d896fcf87ba3dcf7ad4352/620b9/storybook-example1.webp 960w,\n/static/b66e1ff527d896fcf87ba3dcf7ad4352/1804f/storybook-example1.webp 1071w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/b66e1ff527d896fcf87ba3dcf7ad4352/0783d/storybook-example1.png 240w,\n/static/b66e1ff527d896fcf87ba3dcf7ad4352/782f4/storybook-example1.png 480w,\n/static/b66e1ff527d896fcf87ba3dcf7ad4352/f570d/storybook-example1.png 960w,\n/static/b66e1ff527d896fcf87ba3dcf7ad4352/9fa35/storybook-example1.png 1071w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/b66e1ff527d896fcf87ba3dcf7ad4352/f570d/storybook-example1.png\"\n          alt=\"example1\"\n          title=\"example1\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>Storybook 建立 Story(也就是旁邊選項)的格式有三種：</p>\n<ol>\n<li><a href=\"https://storybook.js.org/docs/formats/component-story-format/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Component Story Format (CSF)</a></li>\n<li><a href=\"https://storybook.js.org/docs/formats/storiesof-api/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Stories of API</a></li>\n<li><a href=\"https://storybook.js.org/docs/formats/mdx-syntax/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MDX Syntax</a></li>\n</ol>\n<p>我們現在用的就是第一種 CSF。</p>\n<p>這時候可能會覺得，有種上當受騙的感覺…</p>\n<p>說好的自動產生 DOC 呢？</p>\n<p>別急，別急</p>\n<p>我們先裝一點東西</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn add prop-types\nyarn add -D @storybook/addon-docs</code></pre></div>\n<p>修改一下 storybook 的 config：\n在 <code class=\"language-text\">.storybook</code> 資料夾底下，新增 <code class=\"language-text\">presets.js</code> 檔案，並貼上以下的 code</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// .storybook/presets.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'@storybook/addon-docs/react/preset'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>重新 run <code class=\"language-text\">yarn storybook</code></p>\n<p>應該就可以看到上方有多一個 <code class=\"language-text\">Docs</code> 的 Tab，裡面就是我們所想要自動產生的 DOC!!!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dfd8e1c7e495c9acedda4148050fdd62/3dc11/storybook-example2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAAC2klEQVQ4y6WTW08TQRTH9xuhlEtbKDYEUaFQvBAffIM+0Phg/AA0oWr0Q+gH8FmDl8SIiYnSywIWaLcLLdvLbrvdpZRedzs7xzMLVCMYSZzklzOzM+e//zkzww27PVc818af9zndK4Ou0bAD6XeOhvuG3GGH2xMeco+GB10j4eERDzLWw4kM4FqGY9i1cnXA+cIx6HRwrjHvQ9+deZiYmgHf7XmYm7sL/hk/+KdnwO+bhYkb0zA5NQveiZvgGb8OY+OTNqOI7xbmYJ7/3n14sLAILq/3Mfft09eFvU0B+MRuR5Rks7jJmzVh21QzWbOS2DJL2YxZquimopRM+ZSzvlpWbTRdbx83GvAtEl3iCplsACiA0W4TsAiF5jHt6mVaUyu0pes4A5eBILCfOQhyzz6KgVdJAq+TTfJyt0vfSBb8rVmWdREUmy24ldgOcmtb+wHhsAtRUSYJuU6VhgWmYUAqlYJMJgP5fA7S6bTdJ4Sc+wlTO3MYjcWDnCjuBdig0WgSo2NQltTtdkHTNKhUKlAul0GWZSiVSvY3RqvZZEJwovVry9E4H+R2UmKAfWmbFml2CG2bBEzTBFEUbZcMSZIgl8vZkTk9yGbtsaIoaKTxm0MU3D0VbBkEBbu0Y1o9QZbMEpkrVVVB13XbPYOtMbA0GP8lSIBgAvt7sZCHonoEklLFsQyFQqEHEzwr46UcMndsu6KYhrSAEQ9GEAQ7JpNJex63e76GFzlkW5JlxXYi5dCRooGUl6FYLNrk83mbVqv1h8P4hYIUBSkm0kpFpWXtiBYPDSprdarrGlXxwuPJU6wrPb01PcEf2zsoKIiL5ETQwFMmKGi3arVK6vU6wSuCsUaOazWCWyRYjh5NnGuzF4YPjQmmBHEJr006CP/Z2Is5EUw/4t6uvu9bj/JPIrGNZSQUifGhWJwPxfmNc8TiGyGsE8Lbka37vh4JfV77srweiT5dffeh/ye5iz7iH6o2KgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/dfd8e1c7e495c9acedda4148050fdd62/01472/storybook-example2.webp 240w,\n/static/dfd8e1c7e495c9acedda4148050fdd62/222bd/storybook-example2.webp 480w,\n/static/dfd8e1c7e495c9acedda4148050fdd62/620b9/storybook-example2.webp 960w,\n/static/dfd8e1c7e495c9acedda4148050fdd62/cd881/storybook-example2.webp 1027w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/dfd8e1c7e495c9acedda4148050fdd62/0783d/storybook-example2.png 240w,\n/static/dfd8e1c7e495c9acedda4148050fdd62/782f4/storybook-example2.png 480w,\n/static/dfd8e1c7e495c9acedda4148050fdd62/f570d/storybook-example2.png 960w,\n/static/dfd8e1c7e495c9acedda4148050fdd62/3dc11/storybook-example2.png 1027w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/dfd8e1c7e495c9acedda4148050fdd62/f570d/storybook-example2.png\"\n          alt=\"example2\"\n          title=\"example2\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>這時後我們就可以加入自己的 component 與 story了。\n<strong>注意： story 需要加在 <code class=\"language-text\">src/stories</code> 裡面，並且命名 <code class=\"language-text\">**.stories.js</code> 才吃的到</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// src/components/MyButton.js</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">'prop-types'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> buttonStyle <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  backgroundColor<span class=\"token punctuation\">:</span> <span class=\"token string\">'#4CAF50'</span><span class=\"token punctuation\">,</span>\n  border<span class=\"token punctuation\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">,</span>\n  color<span class=\"token punctuation\">:</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">,</span>\n  padding<span class=\"token punctuation\">:</span> <span class=\"token string\">'15px 32px'</span><span class=\"token punctuation\">,</span>\n  textAlign<span class=\"token punctuation\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\n  textDecoration<span class=\"token punctuation\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">,</span>\n  display<span class=\"token punctuation\">:</span> <span class=\"token string\">'inline-block'</span><span class=\"token punctuation\">,</span>\n  fontSize<span class=\"token punctuation\">:</span> <span class=\"token string\">'16px'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyButton</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>buttonStyle<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nMyButton<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/** Button Title 的 document 在這裏！！！ */</span>\n  title<span class=\"token punctuation\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nMyButton<span class=\"token punctuation\">.</span>defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Button Title'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MyButton<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// src/stories/2-MyButton.stories.js</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> MyButton <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/MyButton\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token string\">'MyCustomButton'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 中間 Component Document 來源</span>\n  component<span class=\"token punctuation\">:</span> MyButton\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyButton1</span><span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span><span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyButton2</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MyButton</span></span>\n      <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MyButton2<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>加入以上兩個檔案之後就可以看到 magic 的部分了！漂亮的文件頁面產生了！</p>\n<p>可以注意到以下紅筐的部分：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7cfc213722a25633e580c40a2f2897b1/9fa35/storybook-example3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.79271708683474%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAADEElEQVQ4y62S3WsUVxjG57K9q20oFKRbMJE2zYf5sGGzmc1uYoxrSKSJUkHNf9IrFUQoeOUfIBR6Ub3qXTHUCiEasslG3O4m1egmm93ZmTnzsfO1s+ecp2cnUUwMpUJf+PFyzgzPed/nfaXYp8ePx4cGnKGxFMYmpzB5fhqpiXNIJNM41f8duk8N4tuefnT1DuDkN93o+Lor4mRnDwa6+9DfdxpxOYXB+HDw2ReffyWd/X4m9vC338nCw0f44/EiXVrOsqUnT9mfT1bY4kqOra7l2MpqjmWjvHaA9dw6y60/o4WNTSxns1ZCljuky/PzMU0hJAg5/CZnFOD4MJgAjuPaqfRYu3TtytXYq+2yoWka6rbNOGPY3d1FoZDH1tYLFIoF5PN5lMtlMPGNUvoO0TkSrCqKHR9OtEuD5y/H7ixpxr3nLu6uOeznTQ7NsGGpBhzDgaVb4ucqTNME5/w9WOsVETVVtRMjcrt0YfZSbLNCjJpDsWuHTHWZaD1AUS+iQIqouBW8Cc7ZQVgr8z3BWm1PcG7uYkzTidG69Bsh48JExddx4+lt/Lh4Hb9s3I/EGI6OkO5XqOn2cKvlWSFYVYnRFPa6QZO5fghmmeLgty6E2y6oZRwJs014Wo01DR1KecdOjE/sCSravmDImGfZCEov4REVvqbAruygaRIhQKLMbCG0L9YgWiQIx0Il/8yWZ384LMiZZ1oIdBWhaCMQk6z7AdxGGGUvbO55ud+ucAd1YZOYDKqFvD0yM3dIsCEqrDvwS1sI1CqoqPI99EMQjcHUUC3+JQRn33pIxDtw/JA1KOeVUonns1nu6DpH4HPqOpx6b3AP4jpiGUMQnVjp8TNiyhcvxcTemYhaBG9VysR+1QMXHg3wHyJywPW8+uS5TLs0PXPhy40Xr1RRJbYrSlNRCN3Y+ZvefvQTvblwi/66+kDMw6I1tUZVVTsCtUnE1r0ubZOx8TMnpLa2to9GU+mknExOjcjJTDI5mhkajmc6B7syXad7Mr1DfRlZ3I/I8r+QnEql0qOfHDv2sfR/xz/rw7++aseTMAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/7cfc213722a25633e580c40a2f2897b1/01472/storybook-example3.webp 240w,\n/static/7cfc213722a25633e580c40a2f2897b1/222bd/storybook-example3.webp 480w,\n/static/7cfc213722a25633e580c40a2f2897b1/620b9/storybook-example3.webp 960w,\n/static/7cfc213722a25633e580c40a2f2897b1/1804f/storybook-example3.webp 1071w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/7cfc213722a25633e580c40a2f2897b1/0783d/storybook-example3.png 240w,\n/static/7cfc213722a25633e580c40a2f2897b1/782f4/storybook-example3.png 480w,\n/static/7cfc213722a25633e580c40a2f2897b1/f570d/storybook-example3.png 960w,\n/static/7cfc213722a25633e580c40a2f2897b1/9fa35/storybook-example3.png 1071w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/7cfc213722a25633e580c40a2f2897b1/f570d/storybook-example3.png\"\n          alt=\"example3\"\n          title=\"example3\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>這是最神奇的地方，裡面的內容是透過 compoent 的 propTypes 與 defaultProps 產生出來的，等於只要做平常的工作，建立好完整的 type checking 機制後，再補上一些註解，Storybook 就可以幫你自動產生文件！！</p>\n<p>可以試著修改 <code class=\"language-text\">src/component/MyButton.js</code> 裡面的 propTypes與 defaultProps，看看文件頁面有什麼變動。</p>\n<h2 id=\"後記\"><a href=\"#%E5%BE%8C%E8%A8%98\" aria-label=\"後記 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>後記</h2>\n<p>文章有誤可以 email 給我，或到我的 <a href=\"https://github.com/bugarma/react-storybook-example\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">github repo</a> 開 issue 感謝！！</p>\n<p>\b\bStorybook 是個好用的工具，但目前官方的文件還不是很完整，也比較少他人使用心得，所以我就寫了入門筆記，希望對想要自己建立元件庫(ex: material-ui、ant-design…等等)的朋友有幫助，畢竟元件庫好不好用，文件真的很重要！</p>\n<p>最後，希望喜歡這篇文章的朋友，可以到我的 <a href=\"https://github.com/bugarma/react-storybook-example\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">github repo</a> 按個星星支持一下，謝謝</p>","fields":{"slug":"/posts/storybook-intruduction/","tagSlugs":["/tag/react/","/tag/component-library/","/tag/create-react-app/"]},"frontmatter":{"date":"2019-11-09T12:00:00.000Z","description":"Storybook 介紹、環境建置與簡單操作","tags":["React","Component Library","create-react-app"],"title":"用 Storybook 建立 React component library"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/storybook-intruduction/"}}}